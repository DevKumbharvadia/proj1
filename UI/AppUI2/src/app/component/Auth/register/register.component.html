<div class="min-h-screen flex justify-center items-center bg-[#f8f9fa]">
  <form
    [formGroup]="registerForm"
    (ngSubmit)="onRegister()"
    class="max-w-md w-full bg-white p-8 rounded-lg shadow-lg border border-gray-200"
  >
    <!-- Title -->
    <h2 class="text-center text-2xl font-bold text-[#393E46] mb-6">Register</h2>

    <!-- Username Input -->
    <div class="relative z-0 w-full mb-5 group">
      <input
        type="text"
        name="username"
        id="username"
        class="block py-3 px-0 w-full text-sm text-gray-700 bg-transparent border-b-2 border-gray-300 focus:border-[#00ADB5] focus:outline-none peer"
        placeholder=" "
        required
        formControlName="username"
      />
      <label
        for="username"
        class="peer-focus:font-medium absolute text-sm text-[#393E46] duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:text-[#00ADB5] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >
        Username
      </label>
      <!-- Validation Feedback -->
      <div *ngIf="username?.touched && username?.invalid" class="text-red-500 text-xs mt-1">
        <small *ngIf="username?.hasError('required')">Username is required.</small>
        <small *ngIf="username?.hasError('minlength')">Username must be at least 3 characters long.</small>
        <small *ngIf="username?.hasError('pattern')">Username cannot contain spaces.</small>
      </div>
    </div>

    <!-- Email Input -->
    <div class="relative z-0 w-full mb-5 group">
      <input
        type="email"
        name="email"
        id="email"
        class="block py-3 px-0 w-full text-sm text-gray-700 bg-transparent border-b-2 border-gray-300 focus:border-[#00ADB5] focus:outline-none peer"
        placeholder=" "
        required
        formControlName="email"
      />
      <label
        for="email"
        class="peer-focus:font-medium absolute text-sm text-[#393E46] duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:text-[#00ADB5] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >
        Email
      </label>
      <!-- Validation Feedback -->
      <div *ngIf="email?.touched && email?.invalid" class="text-red-500 text-xs mt-1">
        <small *ngIf="email?.hasError('required')">Email is required.</small>
        <small *ngIf="email?.hasError('email')">Invalid email format.</small>
      </div>
    </div>

    <!-- Password Input -->
    <div class="relative z-0 w-full mb-5 group">
      <input
        type="password"
        name="password"
        id="password"
        class="block py-3 px-0 w-full text-sm text-gray-700 bg-transparent border-b-2 border-gray-300 focus:border-[#00ADB5] focus:outline-none peer"
        placeholder=" "
        required
        formControlName="password"
      />
      <label
        for="password"
        class="peer-focus:font-medium absolute text-sm text-[#393E46] duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:text-[#00ADB5] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >
        Password
      </label>
      <!-- Validation Feedback -->
      <div *ngIf="password?.touched && password?.invalid" class="text-red-500 text-xs mt-1">
        <small *ngIf="password?.hasError('required')">Password is required.</small>
        <small *ngIf="password?.hasError('minlength')">Password must be at least 6 characters long.</small>
      </div>
    </div>

    <!-- Confirm Password Input -->
    <div class="relative z-0 w-full mb-5 group">
      <input
        type="password"
        name="confirm_password"
        id="confirm_password"
        class="block py-3 px-0 w-full text-sm text-gray-700 bg-transparent border-b-2 border-gray-300 focus:border-[#00ADB5] focus:outline-none peer"
        placeholder=" "
        required
        formControlName="confirmPassword"
      />
      <label
        for="confirm_password"
        class="peer-focus:font-medium absolute text-sm text-[#393E46] duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:text-[#00ADB5] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >
        Confirm Password
      </label>
      <!-- Validation Feedback -->
      <div *ngIf="confirmPassword?.touched && confirmPassword?.invalid" class="text-red-500 text-xs mt-1">
        <small *ngIf="confirmPassword?.hasError('required')">Confirm Password is required.</small>
        <small *ngIf="registerForm.hasError('mismatch') && confirmPassword?.touched">Passwords do not match.</small>
      </div>
    </div>

    <!-- Role Dropdown -->
    <div class="relative z-0 w-full mb-6 group">
      <select
        name="role"
        id="role"
        class="block py-3 px-0 w-full text-sm text-gray-700 bg-transparent border-b-2 border-gray-300 focus:border-[#00ADB5] focus:outline-none peer"
        required
        formControlName="roleId"
      >
        <option value="" disabled>Select Role</option>
        @for (role of roles; track $index)
        {
        <option [value]="role.roleId">{{ role.roleName }}</option>
        }
      </select>
      <label
        for="role"
        class="peer-focus:font-medium absolute text-sm text-[#393E46] duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:text-[#00ADB5] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >
        Role
      </label>
      <!-- Validation Feedback -->
      <div *ngIf="roleId?.touched && roleId?.invalid" class="text-red-500 text-xs mt-1">
        <small *ngIf="roleId?.hasError('required')">Role is required.</small>
      </div>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="w-full py-3 text-sm font-medium text-white bg-[#00ADB5] hover:bg-[#008a94] rounded-lg focus:outline-none focus:ring-4 focus:ring-[#00ADB5]"
    >
      Register
    </button>

    <!-- Login Redirect -->
    <div class="mt-4 text-center">
      <p class="text-sm text-gray-600">
        Already have an account?
        <a
          href="/login"
          class="text-[#00ADB5] hover:underline hover:text-[#008a94]"
        >
          Login
        </a>
      </p>
    </div>
  </form>
</div>
