<div class="max-w-4xl mx-auto p-6 bg-[#F3F4F6]">
  <div class="bg-white shadow-lg rounded-lg p-6">
    <h2 class="text-3xl font-semibold text-[#393E46] mb-6">User Profile</h2>

    <!-- User Details -->
    <div class="bg-gray-50 p-4 rounded-lg shadow-sm mb-6">
      <div class="mb-2">
        <span class="font-bold text-[#00ADB5]">User ID:</span>
        <span class="text-gray-700">{{ user.userId }}</span>
      </div>
      <div class="mb-2">
        <span class="font-bold text-[#00ADB5]">User Name:</span>
        <span class="text-gray-700">{{ user.username }}</span>
      </div>
      <div class="mb-2">
        <span class="font-bold text-[#00ADB5]">Email:</span>
        <span class="text-gray-700">{{ user.email }}</span>
      </div>
      <div class="mb-2">
        <span class="font-bold text-[#00ADB5]">Last Login:</span>
        <span class="text-gray-700">{{ user.lastLoginTime | date : "MM/dd/yyyy hh:mm a" }}</span>
      </div>
    </div>

    <!-- Purchase History Button -->
    <div class="flex justify-end">
      <button
        (click)="showPurchaseHistory()"
        class="bg-[#00ADB5] text-white font-medium px-6 py-2 rounded-lg hover:bg-[#007B84] focus:outline-none focus:ring-2 focus:ring-[#00ADB5]"
      >
        View Purchase History
      </button>
    </div>

    @if (isProductVisible) {
    <!-- Purchase History Section -->
    <div class="mt-6 bg-gray-50 shadow-lg rounded-lg p-6">
      <h3 class="text-2xl font-semibold text-[#393E46] mb-4">Purchase History</h3>

      <!-- Purchase History Table -->
      <div class="overflow-x-auto">
        <table
          class="min-w-full border border-gray-300 text-left text-sm text-gray-600"
        >
          <thead class="bg-[#EEEEEE]">
            <tr>
              <th class="px-6 py-3 border border-gray-300 font-medium text-[#393E46]">Product</th>
              <th class="px-6 py-3 border border-gray-300 font-medium text-[#393E46]">Quantity</th>
              <th class="px-6 py-3 border border-gray-300 font-medium text-[#393E46]">Total Amount</th>
              <th class="px-6 py-3 border border-gray-300 font-medium text-[#393E46]">Date</th>
            </tr>
          </thead>
          <tbody>
            @for (purchase of purchases; track $index) {
            <tr class="odd:bg-white even:bg-gray-50 hover:bg-gray-100">
              <td class="px-6 py-3 border border-gray-300 text-gray-700">
                {{ purchase.productName }}
              </td>
              <td class="px-6 py-3 border border-gray-300 text-gray-700">
                {{ purchase.quantity }}
              </td>
              <td class="px-6 py-3 border border-gray-300 text-[#00ADB5] font-semibold">
                ${{ purchase.totalAmount }}
              </td>
              <td class="px-6 py-3 border border-gray-300 text-gray-700">
                {{ purchase.transactionDate | date : "MM/dd/yyyy hh:mm a" }}
              </td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
    }
  </div>
</div>
